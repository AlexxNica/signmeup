<template name="Queue">
  <div class="queue">
    {{#if Template.subscriptionsReady}}
      {{> QueueHeader queue=queue taView=taView}}
      {{> AlertEndingSoon queue=queue taView=taView}}
      {{> AlertSignupGap queue=queue taView=taView}}

      {{#if queue.isRestricted}}
        {{> QueueAlertRestrictedSession queue=queue taView=taView}}
      {{/if}}

      {{> QueueActions queue=queue taView=taView}}
      {{> QueueTable queue=queue taView=taView}}
    {{else}}
      {{#if error}}
        <div class="row flex-items-xs-center mt-3" style="text-align: center;">
          <div>
            <h2 class="display-5">Bad Queue</h2>
            <p class="text-muted">
              No queue could be found for that id.
            </p>
          </div>
        </div>
      {{else}}
        <div class="row flex-items-xs-center mt-3" style="text-align: center;">
          <p>Loading...</p>
        </div> 
      {{/if}} 
    {{/if}}
  </div>

  {{#if taView}}
    {{> ModalQueueEdit queue=queue}}
  {{else}}
    {{> ModalJoinQueue queue=queue}}
  {{/if}}
</template>
