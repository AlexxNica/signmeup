<template name="courseSettings">
  <div class="ui fluid card courseSettings" data-course="{{name}}">
    <div class="content">
      <div class="ui right floated toggle checkbox">
        <input type="checkbox" name="active" tabindex="0" class="hidden" form="{{name}}-general">
        <label>{{#if active}}Active{{else}}Inactive{{/if}}</label>
      </div>
      <div class="header">{{name}}</div>
    </div>

    {{> courseSettingsGeneral}}
    {{> courseSettingsTAs}}

    <div class="content">
      <a class="ui right floated link js-delete-course">Delete</a>
    </div>
  </div>
</template>

<template name="courseSettingsGeneral">
  <div class="content">
    <form id="{{name}}-general" class="ui form">
      <div class="fields">
        <div class="four wide field">
          <label>Name</label>
          <input type="text" name="name" placeholder="e.g. cs00" value="{{name}}" disabled>
        </div>

        <div class="six wide field">
          <label>Description</label>
          <input type="text" name="description" placeholder="e.g. Intro to Object Oriented Programming" value="{{description}}" disabled>
        </div>

        <div class="six wide field">
          <label>Listserv</label>
          <input type="email" name="listserv" placeholder="e.g. cs00tas@lists.cs.brown.edu" value="{{listserv}}" disabled>
        </div>
      </div>
      <p>Editing functionality coming soon.</p>
    </form>
  </div>
</template>

<template name="courseSettingsTAs">
  <div class="content">
    <h4>HTAs and TAs</h4>
    <form class="ui form js-ta-input">
      <div class="ui fluid large action input">
        <input type="email" placeholder="ta_email@brown.edu" required>
        <button class="ui button" role="submit">Add</button>
      </div>
    </form>

    {{#if tasExist}}
      <div class="ui relaxed list">
        {{#each userId in htas}}
          {{> taItem userId=userId course=name hta=true}}
        {{/each}}
        <div class="ui divider"></div>
        {{#each userId in tas}}
          {{> taItem userId=userId course=name hta=false}}
        {{/each}}
      </div>
    {{else}}
      <div class="no-tas">
        Add TAs by entering their email address above.
      </div>
    {{/if}}
  </div>
</template>

<template name="taItem">
  <div class="item">
    <div class="content">
      <div class="ui right floated icon top left pointing dropdown basic button js-ta-dropdown">
        <i class="dropdown icon"></i>
        <div class="menu">
          <div class="item js-change-role">
            {{#if hta}}Make TA{{else}}Make HTA{{/if}}
          </div>
          <div class="item js-delete">Delete</div>
        </div>
      </div>
      <div class="header">
        {{userName userId}}
        {{#if hta}}<div class="ui horizontal label">HTA</div>{{/if}}
      </div>
      {{userEmail userId}}
    </div>
  </div>
</template>